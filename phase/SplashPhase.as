package phase{	import flash.display.Sprite;	import flash.display.Bitmap;	import core.Mediator;	import flash.utils.setTimeout;	import core.PhaseManager;	import flash.events.Event;	import leap.HandState;	import a24.tween.Tween24;	import flash.display.MovieClip;	import flash.geom.Point;	import objects.Catchable;	import flash.media.Sound;	import flash.media.SoundChannel;	import flash.media.SoundTransform;	import core.SoundManager;	public class SplashPhase extends Sprite implements IPhase {		private var logo:Catchable;		private var icon_glove:MovieClip;		private var black_screen:Sprite;				private var frame:int = 0;		private var tween:Tween24;				public function SplashPhase() {			logo = new Catchable("logo");			logo.x = Mediator.stageWidth / 2;			logo.y = Mediator.stageHeight / 2;			addChild(logo);						icon_glove = new IconGlove();			icon_glove.x = logo.x + logo.width/2;			icon_glove.y = logo.y + logo.height/2;			addChild(icon_glove);			/*var icon_open:Bitmap = new IconOpenImage();			icon_open.scaleX = icon_open.scaleY = 0.5;			icon_open.x = Mediator.stageWidth / 2 + 160 + txt_start.width / 2;			icon_open.y = Mediator.stageHeight / 2 - icon_open.height / 2 + logo.height / 1.5;			addChild(icon_open);			mc_icon = new IconSwf();			mc_icon.scaleX = mc_icon.scaleY = 0.5;			mc_icon.x = Mediator.stageWidth / 2 + 160 + txt_start.width / 2 + mc_icon.width / 4;			mc_icon.y = Mediator.stageHeight / 2 - icon_open.height / 2 + logo.height / 1.5 + mc_icon.height / 4;*/						//snd = new OpeningSnd();						/*tween = Tween24.loop(3,						Tween24.tween(logo, 0.01).$x(6),						Tween24.tween(logo, 0.01).$x(0),						Tween24.tween(logo, 0.01).$x(-6),						Tween24.tween(logo, 0.01).$x(0)					);*/			 /*tween = Tween24.loop(0,								 Tween24.tween(logo, 0.6, Tween24.ease.CircOut).$y(-30),								 Tween24.tween(logo, 0.6, Tween24.ease.CircIn).$y(0)								 );*/		}		public function start():void {			trace("splash start");			Mediator._stage.addChild(this);			Mediator._player.visible = false;			Mediator._stage.addChild(Mediator._player);			Mediator._stage.addChild(Mediator._black);			Mediator._black.fadeLight();			Mediator.currentPhase = "splash";			Mediator.initialize();						SoundManager.play("opening", true, 0.4);			/*ch = snd.play(0, 100);			tf = ch.soundTransform;			tf.volume = 0.1;			ch.soundTransform = tf;						ch.addEventListener(Event.SOUND_COMPLETE, restartSound);*/						/* タイトルロゴも掴める対象にする */			Mediator.debArr.push(logo);			addEventListener(Event.ENTER_FRAME, onFrame);						//setTimeout(afterCatch, 2000);		}		private function onFrame(e:Event):void {			if (logo.isCollided) {				if (frame === 0) {					logo.scaleX = logo.scaleY = 1.3;					//tween.play();				}				frame++;			} else {				if (frame > 0) {					logo.scaleX = logo.scaleY = 1;					//tween.stop();				}				frame = 0;			}		}		public function afterCatch(info:Object = null):void {						SoundManager.play("select", false, 0.5);						/* 画面を暗くする */			Mediator._black.fadeDark(PhaseManager.nextPhase);						//Mediator.debArr.pop();						/* BGMをフェードアウト */			SoundManager.fadeOut("opening");		}		public function destroy():void {			trace("splash destroy");			removeEventListener(Event.ENTER_FRAME, onFrame);			removeChildren();			logo.destroy();			logo = null;			icon_glove = null;		    tween = null;			Mediator._stage.removeChild(this);		}	}}