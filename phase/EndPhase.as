package phase {	import flash.display.Sprite;	import flash.geom.Point;	import core.Mediator;	import leap.LeapSystem;	import objects.Catchable;	import core.SoundManager;	import flash.display.MovieClip;	import flash.events.Event;	import core.PhaseManager;	import flash.utils.setTimeout;		public class EndPhase extends Sprite implements IPhase{				private var omb:Catchable;				public function EndPhase() {			//var logo:Catchable = new Catchable("logo");			//logo.x = Mediator.stageWidth / 2;			//logo.y = Mediator.stageHeight / 2;//			addChild(logo);								}				public function start():void {						omb = new Catchable("omb", 0.7);			//omb.scaleX = omb.scaleY = 0.7;			omb.x = Mediator.stageWidth - 220;			omb.y = Mediator.stageHeight - 210;			addChild(omb);						trace("end start");			Mediator._stage.addChild(this);			Mediator._stage.setChildIndex(Mediator._player, Mediator._stage.numChildren - 1);			Mediator._stage.setChildIndex(Mediator._black, Mediator._stage.numChildren - 1);						//LeapSystem.initialize();			Mediator.initialize();						Mediator._black.fadeLight();						SoundManager.play("ending", true, 1);						Mediator.cr.takeRanking();						// もう一回ボタンを掴める対象とする			 Mediator.debArr.push(omb);			 addEventListener(Event.ENTER_FRAME, onFrame);		}				private function onFrame(e:Event):void {			if (omb.isCollided) {				omb.scaleX = omb.scaleY = 1.3;			} else {					omb.scaleX = omb.scaleY = 1;			}		}				public function afterCatch(info:Object = null):void {			/* 画面を暗くする */			Mediator._black.fadeDark(Mediator._black.fadeLight);			setTimeout(PhaseManager.retry, 500);					}				public function destroy():void {			trace("end destroy");			removeEventListener(Event.ENTER_FRAME, onFrame);			removeChildren();			omb.destroy();			omb = null;			Mediator._score.reset();			Mediator._stage.removeChild(this);		}	}	}