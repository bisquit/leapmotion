package leap {	import flash.display.Sprite;	import flash.events.Event;	import core.Mediator;	import flash.events.MouseEvent;	import objects.Player;	import flash.display.Stage;		public class MouseSystem extends Sprite{				private var mx:Number;		private var my:Number;		private var _player:Player;		private var playerWidth:Number;		private var playerHeight:Number;		private var _stage:Stage;				public function MouseSystem(s:Stage) {						_stage = s;			_player = Mediator._player;			playerWidth = _player.realWidth;			playerHeight = _player.realHeight;												_stage.addEventListener(Event.ENTER_FRAME, onFrame);			_stage.addEventListener(MouseEvent.MOUSE_DOWN, onDown);			_stage.addEventListener(MouseEvent.MOUSE_UP, onUp);		}				private function onFrame(e:Event):void {			_player.visible = true;			mx = _stage.mouseX;			my = _stage.mouseY;						Mediator.Sx = mx;			Mediator.Sy = my;		}				private function onDown(e:MouseEvent):void{			trace("down");									Mediator.isCatching = true;						Mediator._player.catchState();						//palmPositionZ -= 8;												// さらに衝突発生時であれば、星をキャッチしたと判定						if(Mediator.isCollide){							//Mediator.collideStar.delete_flag = true;							Mediator.endCollision(true);							//Mediator.changeScore();						}							}				private function onUp(e:MouseEvent):void{			Mediator.isCatching = false;						Mediator._player.defaultState();		}	}	}