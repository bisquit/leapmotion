package objects{	import starling.display.Sprite;	import starling.extensions.PDParticleSystem;	import starling.core.Starling;	import starling.textures.Texture;	import flash.utils.setTimeout;	public class Star extends Sprite {		public var vx:Number;		public var vy:Number;		public var point:Number;		public var acceleration:Number;		public var click_flag:Boolean = false;		public var move_flag:Boolean = false;		public var delete_flag:Boolean = false;		private var pexArr:Array = ["particle/particle.pex","particle/particle.pex","particle/particle.pex"];		private var pointArr:Array = [50,10,-10];		private var accelerationArr:Array = [0.25,0.2,0.15];		[Embed(source = "../particle/particle.pex",mimeType = "application/octet-stream")]		private static var ParticleData:Class;		[Embed(source = "../particle/texture.png")]		private static var ParticleImage:Class;		private var star:PDParticleSystem;		public function Star():void {			var num_max:Number = pexArr.length - 1;			var num_min:Number = 0;			var num:Number = int( Math.random() * (num_max - num_min + 1) ) + num_min;			star = new PDParticleSystem(			XML(new ParticleData()),			Texture.fromBitmap(new ParticleImage())			);			// ----------------------------------------			// 星がなるべく画面内を交差するようにvx,vyを調整			// 今回はstageWidth=700,stageHeigh=500で実装			var x_min:Number = 50;			var x_max:Number = 1000 - 50;			var y_min:Number = 50;			var y_max:Number = 750 / 2 - 50;			this.x = int( Math.random() * (x_max - x_min + 1) ) + x_min;			this.y = int( Math.random() * (y_max - y_min + 1) ) + y_min;			var vx_min:Number;			var vx_max:Number;			var vy_min:Number = 3;			var vy_max:Number = 2;			if (this.x <= 1000 / 2) {				vx_min = 1;				vx_max = 3;			} else {				vx_min = -3;				vx_max = -1;			}			this.vx = int( Math.random() * (vx_max - vx_min + 1) ) + vx_min;			this.vy = int( Math.random() * (vy_max - vy_min + 1) ) + vy_min;			// ----------------------------------------			this.acceleration = accelerationArr[num];			this.point = pointArr[num];			star.start();			Starling.juggler.add(star);			addChild(star);			// 星が生成されてから1秒後に動き始めるようにする			setTimeout(starMove, 1000);			// 星を動き始めるようにする関数			function starMove():void {				move_flag = true;			}		}	}}